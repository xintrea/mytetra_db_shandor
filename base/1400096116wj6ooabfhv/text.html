<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:10pt; font-weight:400; font-style:normal;">
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; color:#000000;">1. В начале необходимо проверить, что Ваш сканер или МФУ имеет поддержку в проекте </span><a href="http://www.sane-project.org/sane-mfgs.html"><span style=" font-family:'arial,sans-serif'; text-decoration: underline; color:#0000cc;">SANE</span></a><span style=" font-family:'arial,sans-serif'; color:#000000;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; color:#000000;">2. Устанавливаем Sane-Backends:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eeeeee;"><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#880000;"># opkg update</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"><br /></span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#880000;"># opkg install sane-backends</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; color:#000000;">3. Устанавливаем Sane-Frontends:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eeeeee;"><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#880000;"># opkg update</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"><br /></span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#880000;"># opkg install sane-frontends</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; color:#000000;">4. Включаем (переподключаем) сканер/МФУ и убеждаемся, что роутер его идентифицировал. Если все в порядке, имеем примерно такой результат (зависит от модели подключенного оборудования):</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eeeeee;"><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#008800;">/opt/</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;">home</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">/</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;">admin </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#880000;"># scanimage -L</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"><br />device </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#008800;">`hpljm1005:libusb:001:002' is a Hewlett-Packard LaserJet M1005 multi-function peripheral</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; color:#000000;">5. Sane может функционировать с серверами inetd или xinetd. В данной прошивке интегрирован сервер inetd, поэтому будем рассматривать его использование. Для автоматического запуска inetd при включении или перезагрузке роутера, добавим указанные строки в скрипт /etc/storage/started_script.sh:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eeeeee;"><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#880000;">############### inetd.conf file create ###################</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"><br /></span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#880000;"># if app not exist</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"><br />        </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000088;">if</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"> </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">[</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"> </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">!</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"> </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">-</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;">f </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">/</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;">usr</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">/</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;">sbin</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">/</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;">inetd </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">];</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"> </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000088;">then</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"><br />            </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000088;">exit</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"> </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#006666;">0</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"><br />        </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000088;">fi</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"><br />        </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000088;">if</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"> </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">[</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"> </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">-</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;">n </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#008800;">&quot;`pidof inetd`&quot;</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"> </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">]</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"> </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">;</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"> </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000088;">then</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"><br />                </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#880000;"># stop daemon</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"><br />        killall </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">-</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;">q inetd<br />        </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000088;">fi</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"><br />        </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#660066;">Login</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">=</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#008800;">`nvram get http_username`</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"><br />        touch </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">/</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;">etc</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">/</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;">inetd</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">.</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;">conf<br />        echo </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#008800;">&quot;sane-port stream tcp nowait $Login /opt/sbin/saned saned&quot;</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"> </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">&gt;</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"> </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#008800;">/etc/</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;">inetd</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">.</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;">conf<br />        </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">/</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;">usr</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">/</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;">sbin</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">/</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;">inetd </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">-</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;">R </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#006666;">30</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"> </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">-</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;">q </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#006666;">64</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"> </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">/</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;">etc</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">/</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;">inetd</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">.</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;">conf<br /> <br /></span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#880000;">##########################################################</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; color:#000000;">При включении или перезагрузке роутера будет создаваться файл /etc/inetd.conf с параметрами, необходимыми для запуска SANE при старте inetd.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; color:#000000;">6. Далее, редактируем конфигурационный файл /opt/etc/sane.d/saned.conf. <br />6.1. Раскомментируем указанную строку:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eeeeee;"><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;">data_portrange </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">=</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"> </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#006666;">10000</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"> </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">-</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"> </span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#006666;">10100</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; color:#000000;">6.2. Указываем диапазон IP-адресов локальной сети, с которых будет осуществляться доступ к SANE. Например, в секции </span><span style=" font-family:'arial,sans-serif'; font-style:italic; color:#000000;">Access list</span><span style=" font-family:'arial,sans-serif'; color:#000000;">указываем сеть:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eeeeee;"><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#006666;">192.168</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">.</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#006666;">1.0</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">/</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#006666;">24</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; color:#000000;">7. Устанавливаем клиентскую графическую оболочку для SANE. Для компьютеров под управлением Windows это может быть </span><a href="ftp://ftp2.sane-project.org/pub/sane/old-ftp.sane-project.org/xsane/"><span style=" font-family:'arial,sans-serif'; text-decoration: underline; color:#0000cc;">xSane </span></a><span style=" font-family:'arial,sans-serif'; color:#000000;">или </span><a href="http://sanetwain.ozuzo.net/"><span style=" font-family:'arial,sans-serif'; text-decoration: underline; color:#0000cc;">SaneTwain</span></a><span style=" font-family:'arial,sans-serif'; color:#000000;">, для компьютеров под управлением Linux - xSane. <br />Если Вы выбираете xSane в качестве клиентской оболочки, то Вам необходимо скорректировать конфигурационный файл sane\etc\sane.d\net.conf (для Windows) или /etc/sane.d/net.conf (для Linux), указав в нем адрес роутера:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eeeeee;"><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#880000;"># This is the net config file.  Each line names a host to attach to.</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"><br /></span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#880000;"># If you list &quot;localhost&quot; then your backends can be accessed either</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"><br /></span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#880000;"># directly or through the net backend.  Going through the net backend</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"><br /></span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#880000;"># may be necessary to access devices that need special privileges.</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"><br /></span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#880000;"># localhost</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#000000;"><br /></span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#006666;">192.168</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#666600;">.</span><span style=" font-family:'Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace'; color:#006666;">1.1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ДАЛЕЕ:</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">1. Положить файл прошивки (sbfw.usb для моего сканера) в &quot; /opt/share/sane/gt68xx/ &quot;</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">2. Отредактировать /opt/etc/sane.d/gt68xx.conf</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">для моего сканера должно быть:</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Mustek ScanExpress 1200 UB Plus:</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">usb 0x05d8 0x4002</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">override &quot;mustek-scanexpress-1200-ub-plus&quot;</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">firmware &quot;sbfw.usb&quot;</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">vendor &quot;Mustek&quot;</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">model &quot;ScanExpress 1200 UB Plus&quot; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">все остальное закоментировать</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">3. Перегрузить роутер и проверять</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">можно не перегружать а выполнить:</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; color:#6a1009;">killall -q inetd</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; color:#6a1009;">/usr/sbin/inetd -R 30 -q 64 /etc/inetd.conf</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">4. Если не работает а в логах &quot;inetd[712]: shandor: no such group&quot; то нужно проверить файл vim /etc/inetd.conf</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">там может быть лишнее</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">должно быть так:</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">sane-port stream tcp nowait shandor /opt/sbin/saned saned</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">то есть shandor один раз а не два через shandor:shandor</p></body></html>